# Love Planner 日历功能测试用例

## 测试环境准备
- 浏览器：Chrome/Safari/Firefox 最新版本
- 屏幕分辨率：1920x1080 或以上
- 网络：稳定的互联网连接
- 测试账号：需要两个不同的用户账号进行情侣功能测试

## 测试前准备
1. 清除浏览器缓存和 localStorage
2. 确保已登录用户账号
3. 检查当前时区设置是否正确

---

## 1. 页面布局和响应式测试

### 1.1 基础布局测试
**测试目的**：验证页面基本布局和组件显示

**测试步骤**：
1. 访问日历页面
2. 检查页面是否正确加载
3. 验证以下组件是否正常显示：
   - 左侧待办列表
   - 右侧日历主体
   - 日历工具栏（导航、视图切换、过滤按钮）

**预期结果**：
- [ ] 页面加载无错误
- [ ] 所有组件正常显示
- [ ] 布局合理，无重叠或错位

### 1.2 响应式布局测试
**测试步骤**：
1. 调整浏览器窗口大小（1920px → 1200px → 768px）
2. 检查移动端显示效果

**预期结果**：
- [ ] 在不同屏幕尺寸下布局自适应
- [ ] 移动端工具栏按钮正确堆叠
- [ ] 待办列表宽度可调整

### 1.3 主题切换测试
**测试步骤**：
1. 切换到设置页面
2. 在 Modern 和 Pixel 主题间切换
3. 切换深色/浅色模式

**预期结果**：
- [ ] 主题切换立即生效
- [ ] 日历颜色和样式正确更新
- [ ] 深色模式下所有元素可见且美观

---

## 2. 日历视图功能测试

### 2.1 视图切换测试
**测试步骤**：
1. 点击工具栏中的"月"、"周"、"日"、"列表"按钮
2. 验证每个视图的正确显示

**预期结果**：
- [ ] 月视图：显示完整月份网格，事件正确显示
- [ ] 周视图：显示一周时间轴，事件按时间段显示
- [ ] 日视图：显示单日详细时间轴
- [ ] 列表视图：以列表形式显示事件

### 2.2 日历导航测试
**测试步骤**：
1. 点击"←"和"→"按钮导航
2. 点击"今天"按钮
3. 验证标题显示的时间范围

**预期结果**：
- [ ] 导航按钮正确切换时间范围
- [ ] "今天"按钮回到当前日期
- [ ] 标题显示正确的时间信息

### 2.3 日历滚动和交互测试
**测试步骤**：
1. 在周/日视图中使用鼠标滚轮滚动
2. 检查滚动是否平滑且定位正确
3. 验证时间轴是否sticky在顶部

**预期结果**：
- [ ] 滚动响应及时，无卡顿
- [ ] 表头在滚动时保持可见
- [ ] 滚动定位准确（默认6:00开始）

---

## 3. 事件管理功能测试

### 3.1 事件创建测试

#### 3.1.1 快速创建测试
**测试步骤**：
1. 点击工具栏"添加日程"按钮
2. 填写事件信息：
   - 标题：测试事件
   - 日期：选择明天
   - 时间：10:00-11:00
   - 参与者：选择自己
3. 点击保存

**预期结果**：
- [ ] 弹窗正确打开
- [ ] 表单字段可正常填写
- [ ] 事件创建成功并显示在日历上
- [ ] 事件颜色正确（蓝色为个人事件）

#### 3.1.2 拖拽选择时间创建
**测试步骤**：
1. 在日历上拖拽选择时间段（如：周视图中从10:00拖到12:00）
2. 验证是否自动打开创建对话框
3. 检查时间是否自动填入

**预期结果**：
- [ ] 拖拽选择响应正确
- [ ] 自动打开创建对话框
- [ ] 开始和结束时间自动填入
- [ ] 支持跨天拖拽选择

#### 3.1.3 全天事件创建
**测试步骤**：
1. 创建事件时勾选"全天"选项
2. 保存事件

**预期结果**：
- [ ] 全天事件在全天区域正确显示
- [ ] 不显示具体时间

### 3.2 跨天事件测试
**测试步骤**：
1. 创建跨天事件：
   - 开始：今天 22:00
   - 结束：明天 02:00
2. 检查事件在日历上的显示

**预期结果**：
- [ ] 事件在两天都有显示
- [ ] 第一天显示从22:00到24:00
- [ ] 第二天显示从00:00到02:00
- [ ] 事件标题在两天都可见

### 3.3 事件编辑测试
**测试步骤**：
1. 点击已存在的事件
2. 在详情对话框中点击"编辑"
3. 修改事件信息并保存

**预期结果**：
- [ ] 事件详情正确显示
- [ ] 编辑表单预填充现有信息
- [ ] 修改后的信息正确保存和显示

### 3.4 事件删除测试
**测试步骤**：
1. 点击事件打开详情
2. 点击"删除"按钮
3. 确认删除

**预期结果**：
- [ ] 显示确认对话框
- [ ] 删除后事件从日历消失
- [ ] 操作不可逆转

### 3.5 事件拖拽移动测试
**测试步骤**：
1. 在日历上拖拽现有事件到新时间
2. 验证时间更新

**预期结果**：
- [ ] 拖拽操作流畅
- [ ] 事件时间正确更新
- [ ] 跨天拖拽正常工作

---

## 4. 重复事件功能测试

### 4.1 重复事件创建测试
**测试步骤**：
1. 创建重复事件：
   - 标题：每周会议
   - 重复：每周
   - 结束：一个月后
2. 保存并检查日历显示

**预期结果**：
- [ ] 重复事件在多个日期显示
- [ ] 每个实例显示重复标识

### 4.2 重复事件编辑测试
**测试步骤**：
1. 点击重复事件的某个实例
2. 点击编辑
3. 修改信息并选择作用范围：
   - 仅此次
   - 此次及之后
   - 所有事件

**预期结果**：
- [ ] 显示编辑范围选择对话框
- [ ] 不同选择产生正确的编辑效果
- [ ] 其他实例按选择保持或更新

### 4.3 重复事件删除测试
**测试步骤**：
1. 删除重复事件实例
2. 选择删除范围

**预期结果**：
- [ ] 按选择范围正确删除事件
- [ ] 其他实例保持不变或按规则删除

---

## 5. 多用户协作功能测试

### 5.1 视图过滤测试
**测试步骤**：
1. 点击过滤按钮："全部"、"我的"、"伴侣"、"共同"
2. 验证每个过滤器的效果

**预期结果**：
- [ ] "我的"：只显示个人事件（蓝色）
- [ ] "伴侣"：只显示伴侣事件（粉色）
- [ ] "共同"：只显示共同事件（紫色）
- [ ] "全部"：显示所有事件
- [ ] 过滤按钮颜色与事件颜色一致

### 5.2 共同事件创建测试
**测试步骤**：
1. 创建事件时同时选择自己和伴侣作为参与者
2. 保存事件

**预期结果**：
- [ ] 事件显示为紫色（共同事件）
- [ ] 在"共同"和"全部"视图中可见
- [ ] 双方用户都能看到此事件

### 5.3 伴侣日历只读测试
**测试步骤**：
1. 切换到"伴侣"视图
2. 尝试创建、编辑、删除事件

**预期结果**：
- [ ] 无法创建新事件
- [ ] 无法编辑伴侣的事件
- [ ] 无法删除伴侣的事件
- [ ] 可以查看事件详情

---

## 6. 待办列表功能测试

### 6.1 待办事项管理测试
**测试步骤**：
1. 点击"添加"按钮创建待办事项
2. 编辑待办事项（点击事项文字）
3. 标记为完成
4. 删除待办事项

**预期结果**：
- [ ] 可以成功添加新待办
- [ ] 点击文字可以编辑
- [ ] 勾选框可以标记完成
- [ ] 删除功能正常工作
- [ ] 已完成事项默认隐藏，可通过"显示已完成"查看

### 6.2 待办拖拽到日历测试
**测试步骤**：
1. 从待办列表拖拽事项到日历的特定时间
2. 验证是否创建对应的日程

**预期结果**：
- [ ] 拖拽操作流畅
- [ ] 自动创建日程，标题为待办事项内容
- [ ] 时间设置为拖拽目标时间
- [ ] 待办事项从列表中移除

### 6.3 待办列表宽度调整测试
**测试步骤**：
1. 拖拽待办列表右侧的调整手柄
2. 调整列表宽度

**预期结果**：
- [ ] 宽度可以平滑调整
- [ ] 调整后的宽度被保存
- [ ] 刷新页面后宽度保持

### 6.4 待办数据持久化测试
**测试步骤**：
1. 添加几个待办事项
2. 刷新页面
3. 检查数据是否保留

**预期结果**：
- [ ] 刷新后待办事项仍然存在
- [ ] 完成状态正确保留
- [ ] 排序保持正确（已完成在底部）

---

## 7. 时区和时间处理测试

### 7.1 时区显示测试
**测试步骤**：
1. 创建事件并设置时间
2. 检查事件在日历上的显示时间
3. 验证详情对话框中的时间显示

**预期结果**：
- [ ] 时间显示为用户本地时区
- [ ] 创建和显示时间一致
- [ ] 编辑时时间正确回填

### 7.2 跨时区协作测试（如果适用）
**测试步骤**：
1. 使用不同时区的两个账号
2. 创建共同事件
3. 验证时间显示

**预期结果**：
- [ ] 每个用户看到的都是本地时间
- [ ] 实际事件时间保持同步

---

## 8. 性能和用户体验测试

### 8.1 加载性能测试
**测试步骤**：
1. 清除缓存后首次加载页面
2. 记录加载时间
3. 测试后续页面切换速度

**预期结果**：
- [ ] 首次加载时间 < 3秒
- [ ] 页面切换响应 < 500ms
- [ ] 日历视图切换流畅无卡顿

### 8.2 大量数据测试
**测试步骤**：
1. 创建大量事件（50+个）
2. 测试日历渲染性能
3. 测试滚动和交互响应

**预期结果**：
- [ ] 大量事件下渲染正常
- [ ] 滚动保持流畅
- [ ] 内存使用合理

### 8.3 错误处理测试
**测试步骤**：
1. 断网状态下操作
2. 输入非法数据
3. 并发操作测试

**预期结果**：
- [ ] 网络错误有合适提示
- [ ] 非法输入被正确验证
- [ ] 并发操作不会导致数据错乱

---

## 9. 边界情况测试

### 9.1 极端时间测试
**测试步骤**：
1. 创建跨年事件
2. 创建跨月事件
3. 测试2月29日等特殊日期

**预期结果**：
- [ ] 跨年/跨月事件正确显示
- [ ] 特殊日期处理正确
- [ ] 闰年处理正确

### 9.2 长文本测试
**测试步骤**：
1. 创建超长标题的事件
2. 创建超长描述的事件
3. 检查显示效果

**预期结果**：
- [ ] 长文本正确截断显示
- [ ] 悬停或点击可查看完整内容
- [ ] 不会破坏布局

### 9.3 并发编辑测试
**测试步骤**：
1. 两个用户同时编辑同一共同事件
2. 验证冲突处理

**预期结果**：
- [ ] 有合适的冲突提示
- [ ] 数据不会丢失
- [ ] 最终状态一致

---

## 10. 移动端测试（如果支持）

### 10.1 触摸操作测试
**测试步骤**：
1. 在移动设备上测试滑动操作
2. 测试点击和长按
3. 测试拖拽功能

**预期结果**：
- [ ] 触摸操作响应正确
- [ ] 拖拽在移动端正常工作
- [ ] 界面适合触摸操作

---

## 测试报告模板

### 测试环境
- 测试时间：
- 浏览器版本：
- 操作系统：
- 屏幕分辨率：

### 测试结果统计
- 总测试用例数：
- 通过用例数：
- 失败用例数：
- 跳过用例数：

### 发现的问题
| 问题编号 | 问题描述 | 严重程度 | 重现步骤 | 预期结果 | 实际结果 |
|---------|----------|----------|----------|----------|----------|
| BUG-001 | 示例问题 | 高/中/低 | 详细步骤 | 预期行为 | 实际行为 |

### 建议和改进意见
1. 功能改进建议
2. 用户体验优化建议
3. 性能优化建议

---

## 注意事项

1. **测试数据**：测试过程中创建的事件请使用明显的测试标识，便于后续清理
2. **浏览器兼容性**：建议在多个主流浏览器中进行测试
3. **数据备份**：测试前请备份重要数据
4. **测试环境**：请在独立的测试环境中进行，避免影响生产数据
5. **问题记录**：发现问题时请截图并详细记录重现步骤

## 联系信息
如有问题或需要技术支持，请联系开发团队。
