/* FullCalendar shadcn/ui 样式定制 */

/* 基础样式 */
.fullcalendar-container {
  @apply w-full;
}

.fc {
  @apply font-sans text-sm;
}

/* 工具栏样式 */
.fc-toolbar {
  @apply mb-4;
}

.fc-toolbar-title {
  @apply text-xl font-semibold text-foreground;
}

/* 按钮样式 */
.fc-button {
  @apply bg-card border border-border text-card-foreground px-3 py-1.5 rounded-md text-sm font-medium;
  @apply hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-ring;
  @apply transition-colors duration-200;
}

.fc-button-primary {
  @apply bg-blue-600 border-blue-600 text-white;
  @apply hover:bg-blue-700 hover:border-blue-700;
}

.fc-button:disabled {
  @apply bg-muted border-border text-muted-foreground cursor-not-allowed;
  @apply hover:bg-muted hover:border-border;
}

/* 表格样式 */
.fc-scrollgrid {
  @apply border border-border rounded-lg overflow-hidden;
}

.fc-col-header-cell {
  @apply bg-muted border-b border-border text-center py-2;
}

.fc-col-header-cell-cushion {
  @apply text-xs font-medium text-muted-foreground uppercase tracking-wide;
}

/* 日期单元格 */
.fc-daygrid-day {
  @apply border-r border-b border-gray-200 min-h-[120px];
}

.fc-daygrid-day:last-child {
  @apply border-r-0;
}

.fc-daygrid-day.fc-day-today {
  @apply bg-blue-50;
}

.fc-daygrid-day-number {
  @apply text-sm font-medium text-foreground p-2;
}

.fc-day-today .fc-daygrid-day-number {
  @apply text-blue-600 font-bold;
}

/* 事件样式 */
.fc-event {
  @apply border-0 shadow-sm rounded-md mb-1 cursor-pointer;
  @apply transition-all duration-200 hover:shadow-md;
}

.fc-event:hover {
  @apply transform scale-105;
}

.fc-event-title {
  @apply text-xs font-medium truncate;
}

.fc-event-time {
  @apply text-xs opacity-75;
}

/* 时间网格样式 */
.fc-timegrid-slot {
  @apply border-b border-gray-100;
}

.fc-timegrid-slot-minor {
  @apply border-b border-gray-50;
}

.fc-timegrid-axis {
  @apply text-xs text-muted-foreground border-r border-border;
}

.fc-timegrid-col {
  @apply border-r border-gray-200;
}

.fc-timegrid-col:last-child {
  @apply border-r-0;
}

/* 当前时间指示器 */
.fc-timegrid-now-indicator-line {
  @apply border-t-2 border-red-500;
}

.fc-timegrid-now-indicator-arrow {
  @apply border-r-8 border-r-red-500;
}

/* 列表视图样式 */
.fc-list-table {
  @apply w-full;
}

.fc-list-day-cushion {
  @apply bg-gray-50 p-2 font-medium text-gray-900;
}

.fc-list-event {
  @apply border-b border-gray-100 hover:bg-gray-50;
}

.fc-list-event-time {
  @apply text-sm text-gray-600 p-2;
}

.fc-list-event-title {
  @apply text-sm text-gray-900 p-2;
}

/* Pixel主题样式 */
.pixel-calendar .fc {
  @apply font-mono;
}

.pixel-calendar .fc-button {
  @apply border-2 border-black bg-white text-black px-2 py-1 rounded-none;
  @apply hover:bg-black hover:text-white;
  box-shadow: 2px 2px 0px #000;
}

.pixel-calendar .fc-button-primary {
  @apply bg-black text-white border-black;
  @apply hover:bg-gray-800;
}

.pixel-calendar .fc-scrollgrid {
  @apply border-2 border-black rounded-none;
}

.pixel-calendar .fc-col-header-cell {
  @apply bg-gray-200 border-b-2 border-black;
}

.pixel-calendar .fc-daygrid-day {
  @apply border-r border-b border-black;
}

.pixel-calendar .fc-daygrid-day.fc-day-today {
  @apply bg-green-200;
}

.pixel-calendar .fc-event {
  @apply rounded-none shadow-none border border-black;
  box-shadow: 2px 2px 0px #000;
}

.pixel-calendar .fc-event:hover {
  @apply transform-none scale-100;
  box-shadow: 3px 3px 0px #000;
}

/* Modern主题样式 */
.modern-calendar .fc-scrollgrid {
  @apply shadow-lg;
}

.modern-calendar .fc-event {
  @apply shadow-md rounded-lg;
}

.modern-calendar .fc-event:hover {
  @apply shadow-lg;
}

.modern-calendar .fc-col-header-cell {
  @apply bg-gradient-to-b from-gray-50 to-gray-100;
}

.modern-calendar .fc-daygrid-day.fc-day-today {
  @apply bg-gradient-to-br from-blue-50 to-indigo-50;
}

/* 响应式设计 */
@media (max-width: 768px) {
  .fc-toolbar {
    @apply flex-col space-y-2;
  }
  
  .fc-toolbar-chunk {
    @apply flex justify-center;
  }
  
  .fc-button {
    @apply text-xs px-2 py-1;
  }
  
  .fc-daygrid-day {
    @apply min-h-[80px];
  }
  
  .fc-event-title {
    @apply text-xs;
  }
}

/* 自定义事件颜色 */
.fc-event.shared-event {
  background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%) !important;
  border-color: #ec4899 !important;
}

.fc-event.my-event {
  background: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%) !important;
  border-color: #3b82f6 !important;
}

.fc-event.partner-event {
  background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%) !important;
  border-color: #f59e0b !important;
}

/* 加载状态 */
.fc-loading {
  @apply opacity-50 pointer-events-none;
}

/* 选择状态 */
.fc-highlight {
  @apply bg-blue-100 opacity-75;
}

/* 拖拽状态 */
.fc-event-dragging {
  @apply opacity-75 z-50;
}

/* 无事件状态 */
.fc-list-empty {
  @apply text-center py-8 text-gray-500;
}

.fc-list-empty::before {
  content: "暂无日程安排";
}

/* 深色主题支持 */
.dark-calendar .fc-toolbar-title {
  @apply text-foreground;
}

.dark-calendar .fc-button {
  @apply bg-card border-border text-card-foreground;
  @apply hover:bg-accent hover:text-accent-foreground;
}

.dark-calendar .fc-button-primary {
  @apply bg-primary border-primary text-primary-foreground;
  @apply hover:bg-primary/90;
}

.dark-calendar .fc-button:disabled {
  @apply bg-muted border-border text-muted-foreground cursor-not-allowed;
  @apply hover:bg-muted hover:border-border;
}

.dark-calendar .fc-scrollgrid {
  @apply border-border;
}

.dark-calendar .fc-col-header-cell {
  @apply bg-muted border-border;
}

.dark-calendar .fc-col-header-cell-cushion {
  @apply text-muted-foreground;
}

.dark-calendar .fc-daygrid-day {
  @apply border-border;
}

.dark-calendar .fc-daygrid-day-frame {
  @apply bg-card;
}

.dark-calendar .fc-day-today {
  @apply bg-accent/20;
}

.dark-calendar .fc-daygrid-day-number {
  @apply text-foreground;
}

.dark-calendar .fc-timegrid-slot {
  @apply border-border;
}

.dark-calendar .fc-timegrid-axis {
  @apply border-border;
}

.dark-calendar .fc-timegrid-axis-cushion {
  @apply text-muted-foreground;
}

.dark-calendar .fc-timegrid-slot-label-cushion {
  @apply text-muted-foreground;
}

.dark-calendar .fc-list-table {
  @apply border-border;
}

.dark-calendar .fc-list-day-cushion {
  @apply bg-muted text-foreground;
}

.dark-calendar .fc-list-event {
  @apply border-border;
}

.dark-calendar .fc-list-event:hover {
  @apply bg-accent/50;
}

.dark-calendar .fc-list-event-title {
  @apply text-foreground;
}

.dark-calendar .fc-list-event-time {
  @apply text-muted-foreground;
}

.dark-calendar .fc-popover {
  @apply bg-popover border-border text-popover-foreground;
}

.dark-calendar .fc-popover-header {
  @apply bg-muted text-foreground border-border;
}

.dark-calendar .fc-more-link {
  @apply text-primary hover:text-primary/80;
}

.dark-calendar .fc-list-empty {
  @apply text-muted-foreground;
}

/* 确保事件颜色正确显示，移除所有边框 */
.fc-event {
  border: none !important;
  border-width: 0 !important;
}

.fc-event .fc-event-main {
  color: inherit !important;
  border: none !important;
}

/* 清理默认样式，移除边框 */
.fc-event {
  border: none !important;
  border-radius: 6px !important;
  overflow: hidden !important;
}

/* 移除内部元素的背景和边框，确保透明 */
.fc-event .fc-event-main,
.fc-event .fc-event-main-frame {
  background: transparent !important;
  border: none !important;
}

/* 用户1事件 - 青色 (Cyan 500) */
.fc-event.event-user1 {
  background-color: #06b6d4 !important;
  border: none !important;
  color: white !important;
}

/* 用户2事件 - 紫色 (Violet 500) */  
.fc-event.event-user2 {
  background-color: #8b5cf6 !important;
  border: none !important;
  color: white !important;
}

/* 共同事件 - 绿色 (Emerald 500) */
.fc-event.event-shared {
  background-color: #10b981 !important;
  border: none !important;
  color: white !important;
}

/* 默认事件 - 蓝色 (Blue 500) */
.fc-event.event-default {
  background-color: #3b82f6 !important;
  border: none !important;
  color: white !important;
}

/* 强制移除所有可能的边框 */
.fc-event,
.fc-event.fc-daygrid-event,
.fc-event.fc-timegrid-event {
  border: none !important;
  border-width: 0 !important;
}

/* 统一的hover效果 - 应用到整个事件容器 */
.modern-calendar .fc-event {
  transition: all 0.2s ease !important;
  cursor: pointer !important;
  position: relative !important;
}

/* hover效果应用到整个事件，不仅仅是内部 */
.modern-calendar .fc-event:hover {
  box-shadow: 0 6px 20px rgba(0,0,0,0.2) !important;
  transform: translateY(-2px) scale(1.02) !important;
  z-index: 1000 !important;
}

/* 确保内部元素不干扰hover效果 */
.modern-calendar .fc-event:hover .fc-event-main,
.modern-calendar .fc-event:hover .fc-event-main-frame {
  background: transparent !important;
}

/* 确保文本颜色正确 - 覆盖所有可能的文本元素 */
.fc-event .fc-event-title,
.fc-event .fc-event-time,
.fc-event .fc-event-main,
.fc-event .fc-event-main-frame,
.fc-event a,
.fc-event span {
  color: white !important;
}

/* 特别确保不同类型事件的文本颜色 */
.fc-event.event-user1 .fc-event-title,
.fc-event.event-user1 .fc-event-time,
.fc-event.event-user2 .fc-event-title,
.fc-event.event-user2 .fc-event-time,
.fc-event.event-shared .fc-event-title,
.fc-event.event-shared .fc-event-time,
.fc-event.event-default .fc-event-title,
.fc-event.event-default .fc-event-time {
  color: white !important;
}

/* 移除FullCalendar默认的内部样式 */
.fc-event .fc-event-main-frame {
  padding: 4px 6px !important;
  border: none !important;
}

.fc-event .fc-event-title-container {
  flex-grow: 1 !important;
}

/* 强制覆盖所有可能的边框样式 */
.fc .fc-event,
.fc .fc-event.fc-daygrid-event,
.fc .fc-event.fc-timegrid-event,
.fc .fc-event.fc-list-event,
.fc-theme-standard .fc-event,
.fc-theme-bootstrap .fc-event {
  border: none !important;
  border-width: 0 !important;
  border-color: transparent !important;
}

/* 确保内部所有元素都没有边框，但保持高度计算 */
.fc-event .fc-event-main,
.fc-event .fc-event-main-frame {
  border: none !important;
  height: 100% !important;
  min-height: inherit !important;
}

/* 确保时间网格事件保持正确的高度 */
.fc-timegrid-event {
  min-height: auto !important;
}

.fc-timegrid-event .fc-event-main {
  height: 100% !important;
  display: flex !important;
  flex-direction: column !important;
  justify-content: center !important;
}
